{% extends "_baseLayout.njk" %}
{% block body %}
  <!-- Main Content-->
  <div class="container px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <!-- Post preview-->
        <form action="/" method="GET">
          <select name="author_filter" id="author-filter" onchange="this.form.submit()">
            <option value="">--Please Select an option</option>
            {% for author in authors %}
              <option value="{{ author.id }}">{{ author.name }}</option>
            {% endfor %}
          </select>
        </form>

        {% for blogPost in blogPosts %}
          <div class="post-preview">
            <a href="posts/{{ blogPost.id }}">
              <h2 class="post-title">{{ blogPost.title }}</h2>
              <h3 class="post-subtitle">{{ blogPost.teaser }}</h3>
            </a>
            <p class="post-meta">
              Posted by
              <a href="#!">{{ blogPost.author_id }}</a>
              on {{ blogPost.formatedDate }}
            </p>
          </div>
          <!-- Divider-->
          <hr class="my-4" />
        {% endfor %}
        <!-- Pager-->
        <div class="d-flex justify-content-between mb-4">
          {% if currentPage > 1 %}
            <a class="btn btn-primary text-uppercase" href="?page={{ currentPage - 1 }}&limit={{ limit }}">← Newer Posts</a>
          {% endif %}
        
          <a class="btn btn-primary text-uppercase" href="?page={{ currentPage + 1 }}&limit={{ limit }}">Older Posts →</a>
        </div>
        
      </div>
    </div>
  </div>
{% endblock %}
